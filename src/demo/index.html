<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Gitline Example</title>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/jsgl/repo@6231386/jsgl.min.js"></script>

    <style>
      body {
        font-family: Verdana, Arial, sans-serif;
        margin: 0;
        font-size: 12px;
      }
      ::-moz-selection {
        color: white;
        background: #525252;
      }
      ::selection {
        color: white;
        background: #525252;
      }
      [for="examplejson"] {
        margin-left: 40px;
      }
    </style>

    <!-- <link rel="stylesheet" href="assets/lib/gitline.css"/> -->
    <!-- <script src="assets/lib/gitline.umd.js"></script> -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@piotrpdev/gitline@1.0.6/dist/gitline.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/@piotrpdev/gitline@1.0.6/dist/gitline.umd.min.js"></script>
  </head>
  <body>
    <header>
      <a href="index.html">Homepage</a>
      <a href="portal.html">Portal</a>
      <a href="github.html">GitHub</a>

      <label for="examplejson">Select an example:</label>
      <span>/assets/data/</span>
      <select name="examplejson" id="examplejson">
        <option value="example01.json">example01.json</option>
        <option value="example02.json" selected>example02.json</option>
        <option value="example03.json">example03.json</option>
        <option value="example04.json">example04.json</option>
      </select>
    </header>
    
    <div id="myGitlinePanel-1"></div>

    <script>
      function getHeader(jsonName) {
        switch (jsonName) {
          case "example01.json":
            return `Gitline Example: <i>${jsonName}</i>. Likely made up.`;
            break;
          case "example02.json":
            return `Gitline Example: <i>${jsonName}</i>. <a target="_blank" href="https://github.com/blecher-at/gitline">https://github.com/blecher-at/gitline</a>.`;
            break;
            case "example03.json":
            return `Gitline Example: <i>${jsonName}</i>. Probably <a target="_blank" href="https://github.com/git/git">https://github.com/git/git</a>.`;
            break;
          case "example04.json":
            return `Gitline Example: <i>${jsonName}</i>. Probably <a target="_blank" href="https://github.com/phalcon/incubator">https://github.com/phalcon/incubator</a>.`;
            break;
          default:
            return `Gitline Example: <i>${jsonName}</i>`;
            break;
        }
      }

      function setToDropdownValue() {
        document.querySelector("#myGitlinePanel-1").innerHTML = "";

        const example = document.querySelector("#examplejson").value;

        Gitline.create()
        .fromJSON(`assets/data/${example}`)
        .withHeader(getHeader(example))
        .renderTo(document.querySelector("#myGitlinePanel-1"));
      }

      document.querySelector("#examplejson").addEventListener("change", setToDropdownValue);

      setToDropdownValue();
    </script>
  </body>
</html>
